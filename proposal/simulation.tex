\فصل{شبیه‌سازی}

در راستای ارزیابی انتها به انتها یک سیستم \متن‌لاتین{LoRa} یکی از راه‌های مورد استفاده،
بهره‌گیری از شبیه‌سازی است. شبیه‌سازی مدل‌سازی کامپیوتری یک راه‌حل مناسب برای بهبود تجربه
کاوش در کارایی سیستم و ارزیابی تکنیک‌های عملکردی آن در روش‌های مورد پیش‌بینی یا تصور است
\مرجع{Almuhaya2022}.

در این فصل قصد داریم مروری به روش‌های شبیه‌سازی برای یک سیستم انتها به انتها
\متن‌لاتین{LoRa} داشته باشیم و ادامه به بررسی شبیه‌سازی‌های صورت گرفته در این رساله می‌پردازیم.

\قسمت{ابزارهای شبیه‌سازی \متن‌لاتین{LoRaWAN}}

در حوزه \متن‌لاتین{LoRa} شبیه‌سازهای بسیار تخصصی و رایگان وجود دارند.
این شبیه‌سازهای \متن‌لاتین{LoRa} در این حوزه تحقیقاتی برای ارزیابی سناریوهای مختلف \متن‌لاتین{LoRa}
توسعه یافته و مورد استفاده قرار گرفته‌اند
\مرجع{Almuhaya2022}.

\زیرقسمت{شبیه‌ساز \متن‌لاتین{LoRaSIM}}

\متن‌لاتین{LoRaSIM} بر پایه \متن‌لاتین{SimPy} به عنوان یک شبیه‌ساز رویداد گسسته به وسیله‌ی پایتون برای
شبیه‌سازی، تحقیق و آنالیز گسترش‌پذیری و کارکرد تصادم در شبکه‌های \متن‌لاتین{LoRaWAN} توسعه پیدا کرده است.
این شبیه‌ساز رابط گرافیکی نداشته اما می‌تواند نمودارها و اشکال را برای نمایش با سایر ابزارها خروجی دهد.
مدل انتشار رادیویی بر پایه مدل‌های شناخته‌شده \متن‌لاتین{path-loss} در مسیرهای طولانی در \متن‌لاتین{LoRaSIM}
پیاده‌سازی شده است
\مرجع{Almuhaya2022}.

\زیرقسمت{شبیه‌ساز \متن‌لاتین{ns-3}}

\متن‌لاتین{ns-3} یک شبیه‌ساز شبکه رویداد گسسته است که در اواسط سال ۲۰۰۶
به زبان‌های \متن‌لاتین{C++} و \متن‌لاتین{python} ایجاد شده اما هنوز هم به شدت در حال توسعه است.
این شبیه‌ساز از گستره از پروتکل‌ها مانند \متن‌لاتین{WiFi}، \متن‌لاتین{LTE}، \متن‌لاتین{IEEE 802.15.4}،
\متن‌لاتین{Sigfox}، \متن‌لاتین{LoRa} و بسیاری شبکه‌های دیگر پشتیبانی می‌کند.
در \متن‌لاتین{ns-3} هم قابلیت شبیه‌سازی و هم قابلیت تقلید به واسطه \متن‌لاتین{socket}ها وجود دارد.
\متن‌لاتین{ns-3} می‌تواند با \متن‌لاتین{C++} خالص کار کرده یا برخی از ماژول‌های آن با \متن‌لاتین{python}
نوشته شوند.
در \متن‌لاتین{ns-3} می‌توان از \متن‌لاتین{pcap} برای جمع‌آوری بسته‌ها به منظور خطایابی استفاده کرد.
ماژول \متن‌لاتین{LoRaWAN} در \متن لاتین{ns-3} پیاده‌سازی شده است تا ابزاری قدرتمند را برای
شبیه‌سازی واقعی یک شبکه \متن‌لاتین{LoRaWAN} به جای شبیه‌سازی ساده شده لایه \متن‌لاتین{MAC} آن
فراهم آورد
\مرجع{Almuhaya2022}.

یک ماژول \متن‌لاتین{LoRaWAN} در \متن‌لاتین{ns-3} پیاده‌سازی و توسعه پیدا کرده است تا یک ابزار قدرتمند
برای شبیه‌سازی واقعی شبکه \متن‌لاتین{LoRaWAN} به جای شبیه‌سازی پروتکل ساده شده \متن‌لاتین{MAC} آن
فراهم آورد.
این ماژول به محققان و برنامه‌نویسان این فرصت را می‌دهد که بتوانند درک بهتری از رفتار لایه‌های \متن‌لاتین{MAC}
و فیزیکی در شبکه‌های \متن‌لاتین{LoRa} بدست آورند
\مرجع{Almuhaya2022}.


\قسمت{شبیه‌سازی سرور شبکه در نرخ بالای بسته}

در این شبیه‌سازی قصد داریم تعداد زیادی بسته برای سرور شبکه ارسال کرده و عملکرد آن را در این شرایط برای تاخیر و نرخ از دست دادن بسته‌ها ارزیابی کنیم.
برای این کار از پیاده‌سازی متن‌باز \متن‌لاتین{Chirpstack}\مرجع{chirpstack} به عنوان سرور شبکه استفاده می‌کنیم و بسته‌هایی را با ساختار مورد انتظار آن شبیه‌سازی کرده و ارسال می‌کنیم.
این پیاده‌سازی از سرور شبکه بسته‌ها را از \متن‌لاتین{Gateway} به وسیله‌ی پروتکل \متن‌لاتین{MQTT} دریافت می‌کند و در این شبیه‌سازی ما این بسته‌هایی با این ساختار را با پروتکل \متن‌لاتین{MQTT}
ارسال می‌کنیم.
