\قسمت{برنامه‌ریزی شبکه}

در شبکه‌های \متن‌لاتین{LoRaWAN} نیاز به استقرار دروازه‌ها و برنامه‌ریزی شبکه وجود دارد بنابراین بهینه‌سازی در محیط با توجه به هزینه‌های نگهداری و استقرار و نیازمندی‌های کیفیت سرویس
در این شبکه‌ها مطرح می‌شود. استقرار دروازه‌ها باعث هزینه‌ی خرید و نگهداری آن شده و می‌تواند هزینه نگهداری و راه‌اندازی سیستم را افزایش دهد،
بنابراین برنامه‌ریزی شبکه \متن‌لاتین{LoRaWAN} شامل جایگذاری دروازه‌ها، مساله حیاتی است که بر هزینه راه‌اندازی، نگهداری و کییفیت سرویس تاثیر می‌گذارد
\مرجع{Matni2020}.
از سوی دیگر تنظیمات بهینه اشیا در شبکه‌های \متن‌لاتین{LoRa} می‌تواند باعث بهبود سیستم از نظر گذردهی و مصرف بهینه شود
\مرجع{Ousat2019}.

تفاوت اصلی در مسائل جایگذاری دروازه در شبکه‌های \متن‌لاتین{LoRa} با آنچه پبیشتر در حوزه اینترنت اشیا صورت پذیرفته است،
از عدم شکل‌گیری وابستگی میان اشیا و دروازه منشا می‌گیرد. همانطور که پیشتر اشاره شد در شبکه‌های \متن‌لاتین{LoRa}
بسته توسط تمامی دروازه‌هایی که امکان دریافت آن بسته را داشته باشند، دریافت شده و به سرور شبکه ارسال می‌شوند.
بنابراین در این شبکه‌ها اشیا می‌توانند به صورت همزمان برای چند دروازه ارسال داشته باشند
\مرجع{Ousat2019}.

به صورت کلی هدف کارهای در این حوزه افزایش نرخ بسته‌هایی است که با موفقیت دریافت می‌شوند.
کارهای این حوزه را می‌توان به کارهای مبتنی بر مدل‌سازی ریاضی، مبتنی بر تداخل، مبتنی بر اتصال
و مبتنی بر سیستم تقسیم‌بندی کرد.
در کارهای مبتنی بر تداخل،
برای آزمایش‌هایی که بر روی تداخل و \متن‌لاتین{Capture Effect}
در یک کانال \متن‌لاتین{LoRa} صورت می‌پذیرند، یک مدل خطا در نظر گرفته می‌شود.
این مدل می‌تواند در ازمایش‌هایی که تداخل بین ارتباط‌هایی با فاکتورهای گسترش مختلف را نظارت می‌کنند،
اعمال شود.
در کارهای مبتنی بر اتصال و مبتنی بر سیستم ظرفیت \متن‌لاتین{LoRaWAN} به واسطه حداکثر تعداد
دستگاه‌های انتهایی که می‌توانند در سناریوهای تک و چند سلولی ارتباط برقرار کنند، آنالیز می‌گردد
\مرجع{Farhad2020}.

\زیرقسمت{مرجع \مرجع{Farhad2020}}

پژوهش \مرجع{Farhad2020} دو شِمای تخصیص فاکتور گسترش را برای بهبود نرخ بسته‌های موفق پیشنهاد می‌دهد
که تاثیر تداخل را کاهش می‌دهند.
این پژوهش بیان می‌کند که برخلاف استفاده بیشتر پژوهش‌ها از تخصیص حلقه‌ای فاکتورهای گسترش، روش پیشنهادی این
پژوهش که فاکتورهای گسترش متفاوتی را به اشیایی که در یک منطقه قرار دارند، بر اساس قدرت سیگنال دریافتی در دروازه
تخصیص می‌دهد، کارایی بیشتری دارد.

این پژوهش کلاس $A$ را برای اشیا در نظر می‌گیرد. اشیا با توزیع یکنواخت حول یک دروازه
توزیع شده‌اند. اشیا یک کانال فرکانسی را به صورت تصادفی از میان کانال‌های $868.1$، $868.3$ و $868.5$
انتخاب می‌کنند.
نرخ دریافت موفقیت آمیز بسته‌ها، تاخیر انتها به انتها میانگین و میانگین تاخیر \متن‌لاتین{Ack}ها
به عنوان معیارهای کارایی در این پژوهش فرض شده‌اند.

نرخ دریافت موفقیت آمیز بسته‌ها، نسبت تعداد بسته‌هایی است که به صورت موفیت آمیز دریافت می‌شوند به
تعداد بسته‌هایی که به وسیله‌ی دستگاه انتهایی ارسال شده‌اند که به شکل زیر تعریف می‌شود:

\[
  SR = \frac{N_{r}}{N_{s}}
\]

زمانی که یک شی بسته با تاییدیه‌ای را ارسال می‌کند بعد از دومین پنجره دریافت به اندازه‌ی مشخصی صبر کرده و در صورتی
که \متن‌لاتین{‌ACK} دریافت نکند، بسته را باز ارسال می‌کند.
میانگین تاخیر \متن‌لاتین{ACK}ها از رابطه‌ی زیر محاسبه می‌شود:

\[
  \hat{\mu}D_{ack} = \frac{\sum(T_{ack} - T_{tx})}{N_{r}}
\]

این پژوهش از مدل‌های از دست رفت مسیر، \متن‌لاتین{Log-Distance} و \متن‌لاتین{Okumura-Hata} استفاده می‌کند.
بسته‌ها زمانی می‌توانند دریافت و رمزگشایی شوند که توان آن‌ها از سطح حساسیت گیرنده بالاتر باشد.

این پژوهش بیان می‌کند در شِمای پیشنهادی \متن‌لاتین{LoRaWAN} که فاکتور گسترش با نرسیدن \متن‌لاتین{Ack}
افزایش پیدا می‌کند مشکل داشته و باعث می‌شود بیشتر دستگاه‌ها روی فاکتورهای گسترش بزرگ قرار بگیرند.
در شِمای پیشنهادی این پژوهش با از دست رفتن بسته‌ها فاکتور گسترش افزایش پیدا می‌کند اما با رسیدن صحیح
بسته‌ها و برآورده شدن کیفیتی مشخصی از شبکه فاکتور گسترش کاهش پیدا می‌کند.

این پژوهش برای تخصیص اولیه فاکتورهای گسترش از فاصله و کفیفت کانال استفاده می‌کند و فرض می‌کند
که مشخصات کانال با زمان تغییر نمی‌کند.

در نهایت شبیه‌سازی‌های این پژوهش در بستر \متن‌لاتین{NS3} صورت پذیرفته است.
در این شبیه‌سازی‌ها تایید شده است که بین فاکتورهای گسترش مختلف در یک کانال امکان تداخل وجود دارد
و این فاکتورهای گسترش کاملا عمود بر یکدیگر نیستند.
بنابارین این پژوهش بیان می‌کند که لزوما استفاده از فاکتورهای گسترش بالا برای اشیایی که از دروازه
فاصله دارند مساله ازدحام شبکه را حل نمی‌کند.

\زیرقسمت{مرجع \مرجع{Matni2020}}

پژوهش \مرجع{Matni2020} الگوریتم \متن‌لاتین{DPLACE} را برای جایگذاری دروازه‌ها در کاربردهای پویای اینترنت اشیا پیشنهاد می‌دهد.
این الگوریتم دستگاه‌های اینترنت اشیا را به خوشه‌هایی با میزانی از شباهت تقسیم می‌کند تا اجازه بدهد که الگوریتم جایگذاری دروازه‌ها
به بهترین شیوه ممکن به این دستگاه‌ها سرویس ارائه کند.

این پژوهش بیان می‌کند که اولین پژوهشی است که در مساله جایگذاری دروازه‌ها در کنار هزینه، بحث حداقل کارایی شبکه را هم مدنظر
قرار داده است. این پژوهش در ادامه بیان می‌کند دروازه‌های \متن‌لاتین{LoRaWAN} می‌توانند مورد حمله قرار بگیرند، از دسترس خارج شوند
و یا در فجایع مصنوعی یا طبیعی نابود شوند که باعث کاهش کیفیت سرویس و انعطاف‌پذیری برنامه‌های \متن‌لاتین{LoRaWAN} می‌گردد.
از سوی دیگر یک برنامه‌ریزی شبکه‌ای کابردی و انعطاف‌پذیر نقش مهمی را در عملکرد \متن‌لاتین{LoRaWAN} ایفا می‌کند.

الگوریتم \متن‌لاتین{DPLACE} در گام اول اشیا را خوشه‌بندی می‌کند، در این خوشه‌بندی اشیایی با صفات مشابه در یک خوشه قرار می‌گیرند که اجازه می‌دهد
دروازه برای سرویس‌دهی اشیای یک خوشه به بهترین نحو، جایگذاری شود. با این تفاسیر الگوریتم \متن‌لاتین{DPLACE} از سه مرحله تشکیل شده است:

\شروع{شمارش}

\فقره \متن‌سیاه{مرحله پیش‌پردازش}، با شیوه آماری \متن‌لاتین{Gap} اشیا خوشه‌بندی می‌شوند که در نتیجه آن تعداد خوشه‌ها در یک استقرار مشخص اینترنت اشیا، معین می‌شود.
بر پایه تعداد خوشه‌ها، الگوریتم با استفاده از شیوه \متن‌لاتین{Fuzzy C-Means} مکان دروازه‌های \متن‌لاتین{LoRaWAN} در این سناریو مشخص می‌کند.
در نظر داشته باشید که الگوریتم خوشه‌بندی \متن‌لاتین{Fuzzy C-Means} نیازمند مشخص بودن تعداد خوشه‌ها است. از سوی دیگر در خوشه‌بندی در کنار فاصله اشیا
از دروازه‌ها (مرکز خوشه‌ها) شعاع پوشش دروازه‌ها نیز مدنظر قرار گرفته است و تاثیر خود را در پارامتر فاصله انعکاس می‌دهد.

\فقره در طول مرحله \متن‌سیاه{پردازش}، این الگوریتم از مجموعه‌ای از موقعیت‌های دروازه‌های \متن‌لاتین{LoRaWAN} برای سناریوهای مختلف اینترنت اشیا
در جهت افزایش پوشش‌دهی، انعطاف‌پذیری و قابلیت اطمینان و در عین حال پایین نگه داشتن هزینه نصب و راه‌اندازی، استفاده می‌کند.
در واقع این مرحله با اجرای چندین باره مرحله پیش‌پردازش سعی می‌کند با پیدا کردن نقاط مرکزی میان دروازه‌ها
به واسطه الگوریتم \متن‌لاتین{K-Means} موقعیت و تعداد آن‌ها را بهینه کند.

\فقره در \متن‌سیاه{مرحله ارزیابی}، کارایی جایگذاری صورت پذیرفته توسط الگوریتم در یک محیط \متن‌لاتین{LoRaWAN} مورد ارزیابی قرار می‌گیرد.
هزینه‌های نگهداری و نصب نیز در همین مرحله محاسبه می‌شوند. هزینه نصب شامل هزینه خرید، راه‌اندازی و شبکه ارتباطی با ابر برای هر دروازه
است، از سوی دیگر هزینه نگهداری شامل هزینه اجاره مکان، توان مصرفی و هزینه‌ی ارتباطات است.

\پایان{شمارش}

در نهایت این پژوهش برتری الگوریتم پیشنهادی خود را در قالب هزینه‌های نصب و نگهداری و در عین حال برآوردن سطح قابل پذیرش در تاخیر و نرخ دریافت بسته
در مقایسه با سایر الگوریتم‌های روز جایگذاری دروازه نشان می‌دهد. در شبیه‌سازی این پژوهش اشیا به صورت تصادفی قرار گرفته و می‌توانند با توزیع پوآسن از شبکه خارج یا به شبکه داخل شوند.
از سوی دیگر این شبیه‌سازی از دست رفت مسیر به خاطر خرابی دروازه و موانعی چون ساختمان‌ها را نیز مورد ارزیابی قرار داده است.
دروازه‌ها در این شبیه‌سازی پوشش دایره‌ای دارند.

شبیه‌سازی در \متن‌لاتین{ns3} صورت پذیرفته است که شامل پیاده‌سازی پشته پروتکلی \متن‌لاتین{LoRaWAN} است.
اشیا با کلاس $A$ تنها در این شبیه‌سازی حضور دارند چرا که کلاس پایه‌ای \متن‌لاتین{LoRaWAN} بوده و کمترین مصرف توان را دارد.
در مقام مقایسه سه الگوریتم \متن‌لاتین{GRID25}، \متن‌لاتین{GRID16} و \متن‌لاتین{PLACE} در نظر گرفته شده‌اند.
در الگوریتم \متن‌لاتین{GRID25} و \متن‌لاتین{GRID16} به ترتیب صفحه به مربعات ۲ و ۲/۵ کیلومتری شکسته شده و دروازه‌ها
در مرکز این مربعات قرار می‌گیرند. الگوریتم \متن‌لاتین{PLACE} تنها فاز پیش پردازش از الگوریتم \متن‌لاتین{DPLACE} را اجرا می‌کند.
در نهایت در این ارزیابی الگوریتم \متن‌لاتین{DPLACE} با قرار دادن تعداد کمتری دروازه نسبت به \متن‌لاتین{GRID25}
و از سوی دیگر تنها تعداد کمی بیشتر نسبت به سایر الگوریتم‌ها در رابطه نرخ دریافت بسته و تاخیر به خصوص در شرایط خرابی و اختلال
نتایج خوبی را بدست آورده است.

\زیرقسمت{مرجع \مرجع{Ousat2019}}

پژوهش \مرجع{Ousat2019} به مساله‌های تخصیص فاکتور گسترش، تخصیص توان و جایگذاری دروازه‌ها به صورت توامان پرداخته است.
مساله طرح شده به صورت یک مساله بهینه‌سازی غیرخطی صحیح و غیرصحیح فرمول‌بندی شده است که تنها برای شبکه‌های کوچک قابل حل است.
پژوهشگران برای برنامه‌ریزی شبکه‌های بزرگ \متن‌لاتین{LoRa} یک الگوریتم تقریبی پیشنهاد می‌دهند.

شبکه‌ای متشکل از $N$ دستگاه انتهایی که در محیط شبکه توزیع شده‌اند، در نظر گرفته می‌شود.
در محیط $M$ نقطه‌ی احتمالی برای قرارگیری دروازه وجود دارد که می‌توان در آن‌ها دروازه نصب کرد.
هر دستگاه انتهایی از یک توان ارسال و فاکتور گسترش مشخص استفاده می‌کند و بسته‌ای با اندازه ثابت $PL$ را هر $T$ ثانیه ارسال می‌کند.
بسته توسط دروازه دریافت می‌شود در صورتی که توان دریافت آن در دروازه بالاتر از کران مشخص شده باشد.
بسته به درستی در سرور شبکه دریافت می‌شود اگر به درستی در حداقل یک دروازه دریافت شده باشد.

در یک دروازه دستگاه‌های انتهایی که از یک فاکتور گسترش استفاده می‌کنند در صورتی که همزمان ارسال کنند،
تصادم خواهند داشت. نسبتی از بسته‌های یک دستگاه انتهایی به صورت موفقیت آمیز در سرور شبکه دریافت می‌شوند به کل
بسته‌های ارسال شده توسط دستگاه انتهایی، نرخ دریافت یا (\متن‌لاتین{PDR}) نامیده می‌شود.
کارایی انرژی برای یک دستگاه انتهایی، میانگین تعداد بسته‌هایی است که
با استفاده از یک واحد انرژی مورد نیاز جهت ارسال،
به صورت موففیت آمیز توسط دستگاه انتهایی ارسال
می‌شوند (یا به عبارت دیگر در سرور شبکه دریافت می‌شوند).
با وجود اینکه \متن‌لاتین{LoRa} روی یکی از کانال‌های بسیار باند فرکانسی بدون لایسنس ارسال و دریافت
داشته باشد، در این آنالیز تنها از یکی از این کانال‌ها استفاده شده است.

هدف بیشینه کردن کارایی انرژی با جایگذاری حداقل ممکن از دروازه‌ها است.
این هدف با استفاده از رابطه زیر نمایش داده می‌شود:

\[
  F = \frac{1}{N} \sum_{i=1}^{N}(EE_{i}) - \alpha \frac{1}{M} \sum_{j=1}^{M}y_{j}
\]

در این رابطه تابع هدف،
$EE_{i}$
نماینده کارایی انرژی $i$امین دستگاه انتهایی است که از رابطه زیر محاسبه می‌شود:

\[
  EE_{i} = \frac{\pi_{i}}{e_{i}}
\]

که در آن $e_{i}$ و $\pi_{i}$
به ترتیب انرژی مورد نیاز در جهت ارسال از گره $i$ام
و نرخ دریافت بسته گره $i$ام هستند.

بخش دوم در تابع هدف هزینه استفاده از دروازه‌ها را نمایش می‌دهد.
بدون این قسمت، راه‌حل بهینه در تمامی نقاط ممکن از دروازه استفاده
خواهد کرد.

متغیر باینری $y_{j}$ نشان می‌دهد در نقطه احتمالی $j$ام
دروازهای نصب شده است یا خیر. به عبارت دیگر
در صورتی که در یکی از نقاط
$1 \le j \le M$
دروازه‌ای نصب شده باشد، در این صورت مقدار $y_{j}$ برابر یک و در غیر این صورت برابر صفر خواهد بود.
ضریب $\alpha$ برای کنترل اهمیت کارایی انرژی نسبت به هزینه دروازه‌های نصب شده، است.

نرخ دریافت بسته‌های دستگاه انتهایی $i$ام از رابطه زیر محاسبه می‌شود:

\[
  \pi_{i} = 1 - \prod_{j=1}^{M}(1 - \pi_{i}^{j})
\]

که در آن $\pi_{i}^{j}$ احتمال ارسال موفقیت آمیز دستگاه انتهایی $i$ام
به دروازه،
$j$ام است.

توانی که برای ارسال در دستگاه انتهایی $i$ام مصرف می‌شود به توان ارسال
$p_{i}$ دستگاه $i$ام و مدت زمان ارسال $t_{i}$
وابسته است:

\[
  e_{i} = p_{i} * t_{i}
\]

برای ارسال موفقیت آمیز از یک گره انتهایی به دروازه نیاز است
که دو شرط برآورده شوند:

\شروع{شمارش}
\فقره گره انتهایی می‌بایست در پوشش ارتباطی دروازه باشد.
\فقره در زمان ارسال نباید هیچ بسته‌ی اخلالگری در دروازه وجود داشته باشد.
\پایان{شمارش}

این شرایط می‌توانند در قالب رابطه زیر بیان شوند:

\[
  \pi_{i}^{j} = C_{i}^{j} * e^{2\lambda_{i}^{j}}
\]

که در آن $C_{i}^{j}$ یک متغیر باینری بوده و مشخص می‌کند که دستگاه انتهایی $i$ام
در پوشش ارتباطی دروازه
$j$ام قرار دارد یا خیر.
$\lambda_{i}^{j}$
بار ترافیک روی دروازه
$j$ام است که می‌تواند باعث ایجاد تصادم روی دستگاه انتهایی $i$ام شود.
قسمت نمایی در این رابطه از احتمال استاندارد دریافت بسته در شبکه‌های مبتنی بر
\متن‌لاتین{ALOHA} منتج شده است.

در ادامه این پژوهش برای محاسبه $C_{i}^{j}$ و $\lambda_{i}^{j}$
رابطه ارائه می‌دهد.

این پژوهش برای حل مساله برای شبکه‌هایی با ابعاد بزرگ دست به تحلیل شبکه‌های ساختاریافته می‌زند.
این تحیلی با یک شبکه یک بعدی خطی آغاز شده و نتایج آن به شبکه‌های مشبک دو بعدی گسترش پیدا می‌کند.
در نهایت این پژوهش بیان می‌کند در شبکه‌های بزرگ توانایی ارتباط یک شی با چند دروازه عملا
باعث کاهش کارایی شبکه شده و بنابراین در الگوریتم تقریبی مورد نظر سعی بر ارتباط هر شی تنها با یک دروازه
است.

الگوریتم ابتکاری پیشنهادی در دوبخش ارائه می‌شود، یک بخش مربوط به تخصیص فاکتور گسترش بوده که در قالب یک الگوریتم تقریبی
و بخش دیگر مربوط به جایگذاری دروازه‌ها بوده که در قالب یک الگوریتم حریصانه ارائه می‌شود.

\زیرقسمت{مرجع \مرجع{Karthikeya2016}}

پژوهش \مرجع{Karthikeya2016} بیان می‌کند در دنیای اینترنت اشیا شبکه‌ها به واسطه‌ی \متن‌لاتین{Coordinating Device} یا اختصارا \متن‌لاتین{CD} هماهنگ می‌شوند.
در شبکه‌های مختلف نام‌های متفاوتی به \متن‌لاتین{CD}ها داده می‌شود، مثلا در شبکه‌های \متن‌لاتین{WiFi} به آن \متن‌لاتین{Access Point} گفته می‌شود و یا در شبکه‌های حسگری
به آن \متن‌لاتین{Cluster Head} می‌گویند.
\متن‌لاتین{CD}ها نیاز دارند داده‌های خود را به اینترنت ارسال کنند. این ارسال اطلاعات به واسط دستگاه‌هایی به نام \متن‌لاتین{IoT Gateway} یا اختصارا \متن‌لاتین{IGW}ها
صورت می‌پذیرد.
از آنجایی که \متن‌لاتین{CD}ها به فناوری‌های مختلفی تعلق دارند، \متن‌لاتین{IGW}ها برای اهداف تبدیل پروتکل و داده گردانی اهمیت بیشتری پیدا می‌کنند.

یک \متن‌لاتین{IGW} دارای رابط‌های اختصاصی برای فناوری‌های پشتیبانی شده توسط شبکه‌های اینترنت اشیا است.
هر \متن‌لاتین{CD} باید به حداقل یک \متن‌لاتین{IGW} برای ارتباط متصل باشد، این محدودیت سختگیرانه باعث می‌شود، جایگذاری راهبردی \متن‌لاتین{IGW}ها یک قمست کلیدی
در طراحی شبکه باشد.

این پژوهش بیان می‌کند که برای اولین بار به مساله جایگذاری دروازه‌ها در شبکه‌های اینترنت اشیا پرداخته است.
این پژوهش مساله جایگذاری دروازه‌ها را در قالب یک مساله بهینه‌سازی با هدف کمینه‌سازی تعداد کل دروازه‌هایی که در یک شهر هوشمند
جایگذاری می‌شوند، فرمول‌بندی می‌کند.
در ادامه این پژوهش الگوریتم \متن‌لاتین{Network Intersection based Candidate Gateway Location}
یا به اختصار \متن‌لاتین{NewIoTGateway-Select} را برای مشخص کردن کمینه تعداد دروازه‌های لازم جهت جایگذاری ارائه می‌دهد.
الگوریتم \متن‌لاتین{NewIoTGateway-Select} به وسیله‌ی گام‌های زیر عمل می‌کند:
\شروع{فقرات}
\فقره محاسبه مکان‌های ممکن برای جایگذاری دروازه‌ها
\فقره انتخاب مکان‌های بهینه برای دروازه‌ها از میان مکان‌ها نامزد شده
\فقره پشتیبانی از خرابی دروازه و لینک در شبکه با به کار بستن الگوریتم‌های \متن‌لاتین{k-coverage} و \متن‌لاتین{k-connectivity}
\پایان{فقرات}

