\فصل{بیان مسائل و رویکردهای حل مساله}
\برچسب{فصل: بیان مسائل و رویکردهای حل مساله}

\قسمت{بیان مساله}

در این مساله قصد داریم $S$ فاکتور گسترش جهت ارسال اطلاعات توسط $n$ حسگر را در $T$ بازه‌ی زمانی با اندازه $\tau$ تخصیص دهیم.
حسگرها در شروع هر بازه‌ی زمانی در صورتی که فاکتور گسترش به آن‌ها تخصیص پیدا کرده باشد، داده‌ی جدیدی را ارسال می‌کنند.
در صورتی که شی در یک بازه‌ی زمانی ارسالی نداشته باشد عمر اطلاعات آن یک واحد افزایش می‌یابد.
این اشیا جابجا می‌شوند و مکان آن‌ها در هر بازه‌ی زمانی متفاوت است اما این مکان از پیش مشخص شده است.
اطلاعات حسگر‌ها توسط یک دروازه جمع‌آوری می‌شود.
هدف کمینه کردن میانگین عمر اطلاعات همه حسگر‌ها است.

\شروع{لوح}

\تنظیم‌ازوسط

\برچسب{جدول: معرفی متغیرهای تصمیم‌گیری}
\شرح{معرفی متغیرهای تصمیم‌گیری}

\شروع{جدول}{وپ{.5\پهنای‌کاغذ}}

متغیر تصمیم‌گیری & معرفی \\

\خط‌پر

$x_{it}$ & متغیر صحیح و نامنفی که عمر اطلاعات حسگر $i$ام در بازه‌ی زمانی $t$ را مشخص می‌کند. \\

$p_{i,s,t}$ & متغیر دودویی که مشخص می‌کند فاکتور گسترش $s$ در بازه‌ی زمانی $t$ به حسگر $i$ام تخصیص پیدا کرده است. \\

$\mu{i,t}$ & توان مصرفی حسگر $i$ام در بازه‌ی زمانی $t$ \\

$SF_{i,t}$ & فاکتور گسترش انتخاب شده برای حسگر $i$ام در بازه‌ی زمانی $t$ \\

$N^{payload}_{i,t}$ & اندازه‌ی بسته حسگر $i$ام در بازه‌ی زمانی $t$ \\

\پایان{جدول}

\پایان{لوح}


\شروع{لوح}

\تنظیم‌ازوسط

\برچسب{جدول: معرفی پارامترها}
\شرح{معرفی پارامترها}

\شروع{جدول}{وپ{.5\پهنای‌کاغذ}}

پارامتر & معرفی \\

\خط‌پر

$N$ & تعداد حسگرها \\

$T$ & تعداد بازه‌های زمانی \\

$S$ & تعداد فاکتورهای گسترش \\

$P_{i, s, t}$ & توان مصرفی حسگر $i$ام در بازه‌ی زمانی $t$ در صورتی که از فاکتور گسترش $s$ استفاده کند \\

$PL_{i}$ & اندازه بسته حسگر $i$ام \\

$CR$ & نرخ کدگذاری \\

$BW$ & پهنای باند \\

$\tau$ & اندازه‌ی یک بازه‌ی زمانی \\

$\zeta$ & عمر اطلاعات قابل تحمل برای شی $i$ام \\

\پایان{جدول}

\پایان{لوح}

در ادامه مدل‌سازی ریاضی این مساله بیان می‌شود:

\begin{align}
  &\min \sum_{i = 1}^{N} \sum_{t = 1}^{T} x_{i, t} / T \\
  &s.t. \notag \\
  \sum_{i = 1}^{N} p_{i, s, t} &\le 1 \quad \forall s \in \{1, \cdots, S\}, \forall t \in \{1, \cdots, T\} \label{eq:constr_subchannel_limit} \\
  \sum_{s = 1}^{S} p_{i, s, t} &\le 1 \quad \forall i \in \{1, \cdots, N\}, \forall t \in \{1, \cdots, T\} \label{eq:constr_thing_limit} \\
  -T * \sum_{s = 1}^{S} p_{i, s, t} + x_{i, t} + 1 &\le x_{i, t + 1} \quad \forall i \in \{1, \cdots, N\}, \forall t \in \{1, \cdots, T - 1\} \label{eq:constr_aoi_limit} \\
  \mu_{i, t} &= \sum_{s = 1}^{S} p_{i, s, t} P_{i, s, t}  \quad \forall i \in \{i, \cdots, N\}, \forall t \in \{1, \cdots, T\} \label{eq:constr_power_range} \\
  SF_{i, t} &= \sum_{s = 1}^{S} s p_{i, s, t} \quad \forall i \in \{i, \cdots, N\}, \forall t \in \{1, \cdots, T\} \label{eq:constr_set_sp} \\
  N^{payload}_{i, t} &= 8 + \max\left[ ceil \left( \frac{8 PL_{i} - 4 SF_{i,t} + 28 + 16}{4 SF_{i, t}} \right) \times (CR + 4), 0 \right]
                       \quad \forall i \in \{i, \cdots, N\}, \forall t \in \{1, \cdots, T\}
                       \label{eq:constr_payload} \\
  N^{payload}_{i, t} \times \frac{2^{SP_{i, t}}}{BW} &\le \tau \quad \forall i \in \{i, \cdots, N\}, \forall t \in \{1, \cdots, T\}
                                                       \label{eq:constr_time_slot_threshold} \\
  x_{i, t} &\le \zeta_{i} \label{eq:constr_aoi_threshold} \\
\end{align}

محدودیت \رجوع{eq:constr_subchannel_limit} بیان می‌کند هر فاکتور گسترش در هر بازه‌ی زمانی تنها به یک حسگر می‌تواند تخصیص پیدا کند.
محدودیت \رجوع{eq:constr_thing_limit} بیان می‌کند در هر بازه‌ی زمانی حداکثر یک فاکتور گسترش می‌تواند به یک حسگر تخصیص پیدا کرده باشد.
محدودیت \رجوع{eq:constr_aoi_limit} بیان می‌کند مقدار عمر اطلاعات در صورت تخصیص نیافتن فاکتور گسترش به یک حسگر می‌بایست در بازه‌ی زمانی بعدی یک واحد افزایش پیدا کند.
اشیا می‌توانند از فاکتورهای گسترش متفاوتی استفاده کنند اما همانطور که بیان شد در فاکتورهای گسترش بالاتر نرخ ارسال و به این ترتیب توان مصرفی کاهش پیدا می‌کند این در حالی است که
در فاکتورهای گسترش پایین نرخ ارسال بیشتری وجود داشته و توان مصرفی بالاتر خواهد بود. محدودیت \رجوع{eq:constr_power_range} ارتباط میان قدرت ارسال و فاکتور گسترش را در فاصله‌ی
معین شده در آن بازه‌ی زمانی برای حسگر (بر پایه موقعیت مکانی آن که از پیش فرض شده است)، مشخص می‌کند.
این توان ارسالی باید از بازه‌ی توان‌های گسسته توان‌های ارسالی مجاز در آن محدوده قانون‌گذاری انتخاب شده باشد و به شکلی باشد که توان سیگنال دریافتی از حداقل مجاز برای تشخیص صحیح دروازه بیشتر باشد.
اندازه‌ی هر بازه‌ی زمانی ثابت و برابر با $\tau$ است و برای اینکه تداخلی میان اشیا به وجود نیاید، ارسال داده هر شی باید در این بازه زمانی به اتمام برسد.
محدودیت \رجوع{eq:constr_time_slot_threshold} این مورد را تضمین می‌کند.
محدودیت \رجوع{eq:constr_payload} اندازه بسته را مشخص می‌کند که به فاکتور گسترش انتخاب شده، وابسته است.
حسگرها با توجه به داده‌ای که گزارش می‌کنند می‌توانند اولویت‌های مختلفی داشته باشند، محمدودیت \رجوع{eq:constr_aoi_threshold} کران قابل تحمل از عمر اطلاعات برای هر شی را محدود می‌کند.


در ادامه این مساله را به بیش از یک دروازه گسترش می‌دهیم. دروازه‌ها در شبکه‌های \متن‌لاتین{LoRaWAN} عموما می‌توانند تعداد محدودی بسته را به صورت موازی و صحیح پردازش کنند، قصد داریم این محدودیت را
نیز در این مساله لحاظ کنیم و از همین رو در هر بازه‌ی زمانی اشیایی که به هر دروازه ارسال می‌کنند باید مشخص باشند. همانطور که پیشتر بیان شد یک شی در شبکه‌ی \متن‌لاتین{LoRaWAN} می‌تواند به همه دروازه‌هایی
که در محدوده آن قرار دارند، ارسال داشته باشد.
در این مساله فرض می‌کنیم اشیا می‌توانند از فاکتورهای گسترش یکسان در یک بازه‌ی زمانی استفاده کنند و از همین اگر در فاصله مشخصی از یکدیگر قرار داشته باشند تداخل ایجاد می‌شود.
بنابراین نسب نویز به سیگنال میان شی $i$ و دروازه $k$ام از رابطه‌ی \رجوع{eq:snr} محاسبه می‌شود.


\begin{equation}\label{eq:snr}
  SNR_{i, k} = \frac{p_i . g_{i,k} . a(d_{d,k})}{\sum_{s_i = s_j, c_i = c_j, i \neq j}^{N} b_{j}^{t} . p_{j} . g_{j,k} . a(d_{j,k}) + N_{0}}
\end{equation}
