\فصل{مفاهیم}

\قسمت{مقدمه}
در سال‌های اخیر با کاهش قسمت حسگرهای و عملگرها، تعداد دستگاه‌های اینترنت اشیا به سرعت در حال گسترش است و به سرعت در حال تبدیل کردن خود به یکی از اجزا زندگی ما می‌باشند.
در نتیجه رد پای فاحش اینترنت اشیا امروزه در همه جا قابل مشاهده است.
\مرجع{Mishra2021}

نیاز کاربردهای اینترنت اشیا روز به روز به تکنولوژی‌هایی که می‌توانند عملکرد توان پایین داشته باشند
و دستگاه‌های انتهایی که بتوانند ارتباط بی‌سیتم در مسافت‌های طولانی را با هزینه و پیچیدگی پایین برقرار کنند بیشتر می‌شود.
در بیشتر کاربردها، دستگاه‌های انتهایی اینترنت اشیا حسگرهایی با باتری می‌باشند، که پروفایل مصرف توان آن‌ها در جهت افزایش طول عمر
باتریشان می‌بایست با دقت طراحی شده باشد.
برد ارتباطی نیاز دارد از چند صد متر تا چندین کیلومتر را شامل شود چرا که دستگاه‌های ارتباطی در محیط عملیاتی بزرگی گسترده‌اند.
با نظر گرفتن همه ویژگی‌های نامبرده، این امر تنها با استفاده از تکنولوژی‌های حوزه شبکه‌های توان پایین با برد بالا\پانویس{LPWAN} ممکن است.
\مرجع{sensors-18-03995}

تکنولوژی‌های بسیاری در حوزه \متن‌لاتین{LPWAN} به بازار عرضه شده‌اند که از جمله‌ی آن‌ها می‌توان به \متن‌لاتین{SigFox}، \متن‌لاتین{NB-IoT}، \متن‌لاتین{LTE Cat-M} و \متن‌لاتین{LoRaWAN}
اشاره کرد.
\متن‌لاتین{SigFox} قصد دارد یک پوشش جهانی را در قالب یک اپراتور شبکه که در کشورهای مختلف با استفاده از شرکت‌های تابعه اجرا می‌شود، فراهم آورد.
\متن‌لاتین{NB-IoT} توسط شرکت‌های مخابراطی به عنوان یک جایگزین در ارتباطات اینترنت اشیا، نسبت به تکنولوژی‌های زیرگیگاهرتز \متن‌لاتین{LPWAN} ارائه می‌شود.
از آنجایی \متن‌لاتین{NB-IoT} در طیف فرکانسی دارای لایسنس فعالیت می‌کند، می‌تواند قابلیت اطمینان بیشتری در ترافیک نسبت به سایر تکنولوژی‌های زیرگیگاهرتز ارائه دهد.
برخلاف \متن‌لاتین{SigFox} و \متن‌لاتین{NB-IoT}، متن‌لاتین{LoRaWAN} قابلیت ارائه به صورت شبکه‌های خصوصی و ادغام آسان با پلتفرم‌های شبکه‌ای جهانی مانند \متن‌لاتین{The Things Network} را فراهم می‌آورد.
به همین دلیل و از سوی دیگر باز بودن استاندارد، \متن‌لاتین{LoRaWAN} توجه جامعه محققان را از اولین نمود خود در بازار جلب کرده است.
\مرجع{sensors-18-03995}

\begin{table}
\caption{مقایسه تکنولوژی‌های \متن‌لاتین{LPWAN} \مرجع{SanchezIborra2016} \مرجع{Mekki2019} \مرجع{Naik2018}}
\begin{latin}\begin{tabularx}
  {\textwidth}
  {|*{6}{X|}}
  \toprule
  &
  LoRaWAN &
  Sigfox &
  NB-IoT &
  Ingenu &
  Telensa \\
  \midrule
  Band &
  433/868/ 780/915 MHz &
  868/915 MHz &
  Cellular &
  2.4 GHz &
  Sub-GHz \\
  \midrule
  Data Rate &
  50 kbps &
  100 bps &
  200 kbps &
  19 kbps &
  346 Mbps \\
  \midrule
  Range &
  5 km &
  10 km &
  35 km &
  15 km &
  1 km \\
  \midrule
  Number of Channels &
  6 &
  333 &
  --- &
  --- &
  --- \\
  \midrule
  MAC &
  ALOHA &
  none &
  Non-Access Stratum &
  --- &
  --- \\
  \midrule
  Topology &
  Star-of-Stars &
  Star &
  Star &
  Star / Tree &
  Star / Tree \\
  \midrule
  Adaptive Data Rate &
  Yes &
  No &
  Yes &
  --- &
  --- \\
  \midrule
  Payload Length &
  256 B &
  12 B &
  1600 B &
  10 kB &
  65 kB \\
  \midrule
  Handover &
  No &
  No &
  Yes &
  --- &
  --- \\
  \midrule
  Authentication / Encryption &
  AES 128 &
  No &
  LTE Encryption &
  --- &
  --- \\
  \midrule
  Over the air update &
  --- &
  --- &
  --- &
  --- &
  --- \\
  \midrule
  Battery life &
  10Y+ &
  10Y+ &
  --- &
  --- &
  10Y+ \\
  Bi-Directional &
  Yes &
  Yes &
  Yes &
  Yes &
  Yes \\
  \bottomrule
\end{tabularx}\end{latin}
\end{table}

از سال ۲۰۱۵ جامعه تحقیقاتی شروع به مطالعه در رابطه با کارآیی و ویژگی‌های مختلف تکنولوژی‌های \متن‌لاتین{LoRa} و \متن‌لاتین{LoRaWAN} کرد.
از آن تاریخ مقلات متعددی در ژورنال‌ها و کنفرانس‌های عملی در سراسر دنیا چاپ و ارائه شده‌اند.
\مرجع{sensors-18-03995}

مستقل از ارتباط رادیویی که برای شکل دادن شبکه‌ی \متن‌لاتین{M2M} از آن استفاده شده است، دستگاه انتهایی یا ماشین می‌بایست داده خود را از طریق اینرتنت قابل دسترسی کنند.
دستگاه اینترنت اشیا عموما منابع محدودی دارند و این به آن معناست که باید با حافظه، توان پردازشی، توان شبکه‌ای و باتری محدودی فعالیت کنند.
بنابراین کارایی ارتباط ماشین به ماشین وابستگی زیادی به پروتکل زیرین مورد استفاده در اپلیکشن اینرتنت اشیا دارد.
\مرجع{Mishra2021}

پروتکل‌های ارتباطی زیادی در حوزه اینترنت اشیا مطرح است که می‌توان از بین آن‌ها به \متن‌لاتین{MQTT}، \متن‌لاتین{CoAP}، \متن‌لاتین{AMQP} و \متن‌لاتین{HTTP} اشاره کرد.
\مرجع{Mishra2021}

\قسمت{\متن‌لاتین{LoRa}}

لایه‌ی فیزیکی \متن‌لاتین{LoRa} که در \متن‌لاتین{LoRaWAN} استفاده می‌شود، در سال ۲۰۱۴ توسط \متن‌لاتین{Semtech} به ثبت رسید.
از ویژگی‌های \متن‌لاتین{LoRa} می‌توان به توان عملیاتی پایین، نرخ پایین داده و برند ارتباطی بالا اشاره کرد.
\مرجع{sensors-18-03995}
\مرجع{Adelantado2017}

ماژولیشن آن بر پایه \متن‌لاتین{Chirp Spread Spectrum} بوده و به صورت دوره‌ای سیگنال‌های \متن‌لاتین{chirp}ای تولید می‌کنند که همه آن‌ها بازه زمانی یکسانی دارند.
\متن‌لاتین{chirp} یک سیگنال سینوسی است که فرکانس آن با زمان افزایش یا کاهش پیدا می‌کند.
یک \متن‌لاتین{chirp} به وسیله‌ی پروفایل زمانی فرکانس لحظه‌ی آن که در بازه‌ی زمانی \متن‌لاتین{T} از فرکانس $f_0$ به فرکانس $f_1$
تغییر می‌کند شناخته می‌شود.
در \متن‌لاتین{LoRa} دو نوع \متن‌لاتین{chirp} تعریف شده است. \متن‌لاتین{chirp} پایه که فرکانس پروفایل زمانی آن با فرکانس مینیمال
\(f_{\min} = -\frac{BW}{2}\)
شروع شده و با فرکانس ماکسیمال
\(f_{\max} = \frac{BW}{2}\)
خاتمه می‌یابد.
برای ورودی‌های دیجیتال مختلف، یک ماژولاتور \متن‌لاتین{chirp}های مختلفی تولید می‌کند که نسبت به \متن‌لاتین{chirp} پایه شیف زمانی خورده‌اند.
\مرجع{sensors-18-03995}

\متن‌لاتین{LoRa} از باند فرکانسی بدون مجوز استفاده می‌کند بنابراین برای راه‌اندازی شبکه‌ی آن نیاز به تهیه هیچ مجوزی نیست. البته باید در نظر داشته که نرخ پیام در این باندهای بدون مجوز توسط قانون‌گذاران محدود شده است.
\مرجع{Cruz2021}

لایه فیزیکی \متن‌لاتین{LoRa} با توجه به ویژگی‌های گسترده‌ای که دارد در راهکارهای دیگری به جز \متن‌لاتین{LoRaWAN} نیز استفاده شده است که از جمله‌ی آن می‌توان به \متن‌لاتین{Meshed LoRa} اشاره کرد.
\مرجع{Beltramelli2021}

پارامترهای فاکتور گسترش یا به اختصار \متن‌لاتین{SF}، پهنای باند و نرخ‌کدگذاری قابل تنظیم می‌باشند و می‌توانند روی زمان ارسال بسته، نرخ ارسال، مصرف انرژی و برد ارتباطی تاثیر داشته باشند.
در ادامه به مرور این پارامترها و تاثیرشان می‌پردازیم.

در بسته‌های \متن‌لاتین{LoRa} از تصحیح خطا جلورونده یا مختصرا \متن‌لاتین{FEC} استفاده می‌شود.
در این فرآیند بیت‌های تصحیح خطا به داده‌های ارسال اضافه می‌شوند.
این بیت‌های اضافه شده کمک می‌کنند تا داده‌های از دست رفته به خاطر تداخل بازگردانی شوند.
بیت‌های بیشتر این پروسه بازگردانی را ساده‌تر می‌کنند اما باعث هدر رفت پهنای باند و عمر باتری می‌شوند.
در \متن‌لاتین{LoRa} ما نرخ‌های کدگذاری $4/5$، $4/6$، $4/7$ و $4/8$ را داریم.

پهنانی باند در \متن‌لاتین{LoRa} می‌توان بین ۱۲۵ تا ۵۰۰ کیلوهرتز باشد و با توجه به استفاده از باند بدون لایسنس این پهنای باند وابسته به پارامتر‌های منطقه‌ای و فاکتور گسترش می‌باشد.

در متن‌لاتین{LoRa} نرخ باد یا نرخ علائم از رابطه‌ی زیر محاسبه می‌گردد:

\[
  R_{s} = BW / 2^{SF}
\]

که در آن \متن‌لاتین{BW} پهنای باند و \متن‌لاتین{SF} فاکتور گسترش می‌باشد.
\مرجع{Augustin2016}

در ادامه نرخ داده‌ی ارسالی را می‌توان با استفاده از رابطه زیر محاسبه کرد:

\[
  R_{b} = SF \times \frac{BW}{2^{SF}} \times CR
\]

در این رابطه \متن‌لاتین{CR} نرخ کدگذاری، \متن‌لاتین{SF} فاکتور گسترش و \متن‌لاتین{BW} پهنای باند می‌باشد.
\مرجع{Augustin2016}

رابطه زیر مشخص می‌کند برای ارسال یک داده به چه تعداد علامت نیاز داریم. این پارامتر با $n_{s}$ نمایش داده می‌شود.

\قسمت{\متن‌لاتین{LoRaWAN}}

\متن‌لاتین{LoRaWAN} پروتکل لایه لینک و شبکه می‌باشد که شامل پروتکل کنترل دسترسی چندگانه\پانویس{MAC} نیز می‌باشد. این پروتکل اجازه می‌دهد تا دستگاه‌های \متن‌لاتین{LoRa} با برنامه‌های کاربردی ارتباط برقرار کنند.
این پروتکل توسط \متن‌لاتین{LoRa Alliance} توسعه پیدا کرده و برای همگان قابل استفاده است.
\مرجع{Cruz2021}

یک شبکه‌ی \متن‌لاتین{LoRaWAN} در ساده‌ترین شکل از اجزای زیر تشکیل شده است:

\شروع{شمارش}
\فقره یک دستگاه حسگر یا عملگر که توان و محاسبات محدودی دارد.
\فقره یک \متن‌لاتین{Gateway} که عنصر شبکه‌ای برای دریافت و ارسال اطلاعات از و به دستگاه‌ها را برعهده دارد.
\فقره سرور شبکه که پیام‌های دریافت شده از یک مجموعه \متن‌لاتین{Gateway}ها را به برنامه‌های کاربردی می‌رساند و برعکس
\فقره برنامه کاربردی که می‌تواند در بستر اینترنت قرار داشته باشد و داده‌ها را از طریق سرور شبکه برای اشیا ارسال و دریافت کند.
\پایان{شمارش}

\شروع{شکل}
\درج‌تصویر[width=\textwidth]{./img/nrm-home.png}
\تنظیم‌ازوسط
\شرح{مدل مرجع شبکه \متن‌لاتین{LoRaWAN} - شبکه‌ی خانگی}
\پایان{شکل}

\شروع{شکل}
\درج‌تصویر[width=\textwidth]{./img/nrm-roaming.png}
\تنظیم‌ازوسط
\شرح{مدل مرجع شبکه \متن‌لاتین{LoRaWAN} - شبکه‌ی فراگرد}
\پایان{شکل}

در حوزه امنیت \متن‌لاتین{LoRaWAN} دولایه از امنیت را تعریف می‌کند. لایه اول امنیت میان شی و شبکه است در حالی که لایه دوم میان شی و برنامه کاربردی می‌باشد.
به این صورت می‌توان مطمئن شد که تنها برنامه کاربردی است که می‌تواند داده‌های ارسالی توسط دستگاه را رمزگشایی کند.
\مرجع{Cruz2021}

در ضمن \متن‌لاتین{LoRaWAN} ویژگی‌های دیگری مانند نرخ داده تطبیقی\پانویس{ADR} را اضافه می‌کند. در نرخ داده تطبیقی شبکه با دستگاه در رابطه با پارامترهای لایه‌ی فیزیکی \متن‌لاتین{LoRa} مذاکره می‌کند
که در نتجیه آن کارآیی مصرف بهینه می‌شود. شکل \رجوع{شکل:لایه‌های لورا} مدل لایه‌ای \متن‌لاتین{LoRa} و \متن‌لاتین{LoRaWAN} را نمایش می‌دهد.
\مرجع{Cruz2021}

\شروع{شکل}
\درج‌تصویر[width=\textwidth]{./img/lora-layers.png}
\تنظیم‌ازوسط
\برچسب{شکل:لایه‌های لورا}
\شرح{مدل لایه‌ای \متن‌لاتین{LoRa} و \متن‌لاتین{LoRaWAN} \مرجع{Cruz2021}}
\پایان{شکل}

در شبکه‌های \متن‌لاتین{LoRaWAN} سه کلاس کاری می‌توان برای اشیا در نظر گرفت.

\شروع{فقرات}
\فقره در کلاس ($A$ یا \متن‌لاتین{All}) شی هر زمان که به خواهد شروع به ارسال داده کرده و دو پریود متوالی آینده را برای دریافت \متن‌لاتین{Downlink} خواهد داشت. این کلاس پایین‌ترین مصرف انرژی را دارد چرا که شی تنها در زمان‌هایی که لازم است
روشن می‌شود و می‌تواند دوباره خاموش شود. با توجه به ساختار دریافت \متن‌لاتین{Downlink} در این کلاس می‌توان به سادگی برای پیام‌ها \متن‌لاتین{Ack} دریافت کرد.
\فقره در کلاس ($B$ یا \متن‌لاتین{Beacon}) نود به صورت همگام می‌تواند \متن‌لاتین{Downlink} دریافت کند برای اینکار نود به جز دو بازه دریافت که در کلاس $A$ تعریف شده بود یک بازه دریافت قابل پیش‌بینی نیز دارد.
این کلاس مصرف بالاتری دارد چرا که نیاز است یک بازه دوره‌ای برای دریافت \متن‌لاتین{Downlink} روشن شود. مزیت این کلاس قابلیت دریافت \متن‌لاتین{Downlink} حتی در زمان‌هایی که ارسالی ندارد می‌باشد.
\فقره در کلاس ($C$ یا \متن‌لاتین{Continues}) بیشترین مصرف توان را داشته و شی در هر زمان می‌تواند داده دریافت کند.
\پایان{فقرات}

در \متن‌لاتین{LoRaWAN} از الگوریتم کنترل دسترسی همزمان \متن‌لاتین{ALOHA} استفاده میشود. در این الگوریتم بسته‌ها می‌توانند اندازه‌های متغیر داشته باشند، نودها هر زمان که قصد داشته باشند داده ارسال کنند و نیازی به همگام‌سازی زمانی ندارد.
مشکل اصلی این روش در تعداد برخوردهای بالا در زمانی است که شبکه نودهای زیادی دارد، از این رو روش‌های ``گوش‌دادن پیش از حرف‌زدن'' مانند \متن‌لاتین{CSMA/CA} کارایی بهتری دارند.
چنین الگوریتم‌هایی در مقابل نیاز به همگام‌سازی دارند به این معنی که می‌بایست اشیا یک \متن‌لاتین{clock} محلی مشترک داشته باشند.
\مرجع{Beltramelli2021}

به صورت کلی می‌توان الگوریتم‌های دسترسی همزمان را در سه گروه اصلی قرار داد:

\شروع{فقرات}
\فقره الگوریتم‌های قطعه‌بندی کانال
\فقره الگوریتم‌های دسترسی تصادفی
\فقره الگوریتم‌های نوبت‌دهی
\پایان{فقرات}

که الگوریتم \متن‌لاتین{ALOHA} یا \متن‌لاتین{CSMA} در دسته الگوریتم‌های دسترسی تصادفی است.

ارسال اطلاعات همگام‌سازی در صورتی که از طریق هم بستر بی‌سیم رخ بدهد به آن همگام‌سازی داخل باند گفته می‌شود. در این روش نیاز است که به محدودیت‌های بستر رادیویی احترام گذاشت.
در این شیوه ممکن است کیفیت ارتباط رادیویی به علت ارسال همین اطلاعات به میزان غیرقابل قبولی افت کند. برای حل این مشکل می‌توان از راه‌حل‌های خارج از باند استفاده کرد.
\مرجع{Beltramelli2021}

\قسمت{\متن‌لاتین{MQTT}}

پروتکل‌های اینترنت اشیا امروزه قلب اصلی ارتباط‌های ماشین به ماشین (\متن‌لاتین{M2M}) را تشکیل می‌دهند. فارغ از تکنولوژی رادیویی که برای پیاده‌سازی شبکه‌ی اینتنرت اشیا و ماشین به ماشین استفاده می‌شود، همه داده‌هایی که توسط سنسورها و عملگرهای اینترنت اشیا
تولید می‌شوند وابستگی زیادی به پروتکل ارتباطی که برای ارتباط ماشین به ماشین در اپلیکیشن اینترنت اشیا استفاده شده است، دارند.
با افزایش تقاضا برای سرویس‌های مبتنی بر اینترنت اشیا، نیاز برای کاهش توان دستگاه‌ها و سرویس‌های اینترنت اشیا نیز در جهت محیط زیست پایدار برای نسل‌های آینده، افزایش یافته است.

پروتکل \متن‌لاتین{Messaging Queue Telemetry Transport} که مختصرا \متن‌لاتین{MQTT} نامیده می‌شود یکی از پروتکل‌ها پر استفاده در اینترنت اشیا می‌باشد.
این پروتکل یک پروتکل با معماری انتشار و اشتراک است که توان مصرفی پایینی دارد.
\متن‌لاتین{MQTT} یک پروتکل لایه کاربرد است که برای لایه انتقال از \متن‌لاتین{TCP/IP} و پورت‌های ۱۸۸۳ و ۸۸۸۳ (به ترتیب برای ارتباط رمز شده و ارتباط رمز نشده) استفاده می‌کند. البته پژوهش‌هایی چون \مرجع{Fernndez2021} سعی در تغییر لایه انتقال به \متن‌لاتین{UDP/Quic} داشته‌اند.
\مرجع{Mishra2021}

سه نقش در معماری \متن‌لاتین{MQTT} تعریف شده است. نقش اول کلاینت تولید کننده داده می‌باشد که به آن \متن‌لاتین{Producer} گفته می‌شود. نقش دوم سرور دلال پیام می‌باشد و نقش سوم کلاینت دریافت کننده داده است که به آن \متن‌لاتین{Subscriber} گفته می‌شود.
از \متن‌لاتین{Topic} برای مشخص کردن جریان‌های داده‌ای استفاده می‌شود و در تولید کننده داده می‌بایست برای داده‌ی خود \متن‌لاتین{Topic} داشته باشد و هر دریافت کننده داده روی \متن‌لاتین{Topic} خاصی مشترک می‌شود.
این \متن‌لاتین{Topic}ها می‌توانند به صورت سلسله مراتبی نیز می‌تواند تشکیل شود.
\مرجع{Mishra2021}

در پروتکل \متن‌لاتین{‌MQTT} سه سطح مختلف از کیفیت سرویس تعریف می‌شود. در کیفیت سرویس \متن‌لاتین{QoS0} پیام‌ها به صورت ارسال و فراموش کردن ارسال می‌شوند و هیچ تضمینی برای موفیت این ارسال وجود ندارد.
در کیفیت سرویس \متن‌لاتین{QoS1} پیام‌ها حداقل یکبار تحویل داده خواهند شد، در این حالت کلاینت ارسال‌کننده پس از ارسال منتظر پیام \متن‌لاتین{PUBACK} می‌ماند و در صورت عدم دریافت آن فرآیند ارسال را دوباره تکرار می‌کند.
در کیفیت سرویس \متن‌لاتین{QoS2} پیام‌ها دقیقا یکبار تحویل داده می‌شوند، این بالاترین کیفیت سرویس بوده و منابع زیادی را مصرف می‌کند.
\مرجع{Mishra2021}

در نظر داشته باشید که کیفیت سرویس پروتکل \متن‌لاتین{MQTT} به صورت انتها به انتها نیست و به ارتباط میان دلال پیام و کلاینت‌ها وابسته است.
کیفیت سرویس پیام دریافت شده از سوی \متن‌لاتین{Subscriber} وابسته کیفیت سرویس عملیات انتشار و اشتراک است. اگر کلاینت الف عملیات انتشار را با کیفیت سرویس بالاتری
نسبت به عملیات اشتراک در کلاینت ب انجام دهد کیفیت سرویسی که سرور پیام را به دست کلاینت ب می‌رساند کیفیت سرویسی است که کلاینت ب در عملیات اشتراک استفاده کرده است.
اگر کلاینت الف عملیات انتشار را با کیفیت سرویس پایین‌تری نسبت به عملیات اشتراک در کلاینت ب انجام دهد کیفیت سرویسی که سرور پیام را به دست کلاینت ب می‌رساند کیفیت سرویسی است که
کلاینت الف در عملیات انتشار استفاده کرده است.
\مرجع{MQTTQoS}

\شروع{لوح}
\شرح{چگونگی محاسبه کیفیت سرویس پیام دریافتی در پروتکل \متن‌لاتین{MQTT}\مرجع{MQTTQoS}}
\فضای‌و{5mm}
\begin{tabularx}{\textwidth}{|X|X|X|}
\خط‌پر
کیفیت سرویس عملیات انتشار & کیفیت سرویس عملیات اشتراک & کیفیت سرویس پیام دریافتی \\
\خط‌پر
۰ & ۰ & ۰ \\
\خط‌پر
۰ & ۱ & ۰ \\
\خط‌پر
۰ & ۲ & ۰ \\
\خط‌پر
۱ & ۰ & ۰ \\
\خط‌پر
۱ & ۱ & ۱ \\
\خط‌پر
۱ & ۲ & ۱ \\
\خط‌پر
۲ & ۰ & ۰ \\
\خط‌پر
۲ & ۱ & ۱ \\
\خط‌پر
۲ & ۲ & ۲ \\
\خط‌پر
\end{tabularx}
\پایان{لوح}

\شروع{شکل}
\تنظیم‌ازوسط
\درج‌تصویر[width=\textwidth]{./img/mqtt-qos.png}
\فضای‌و{5mm}
\شرح{سطوح مختلف کیفیت سرویس در پروتکل \متن‌لاتین{MQTT}\مرجع{Mishra2021}}
\پایان{شکل}

به صورت کلی می‌توان دلال‌های پیام در پروتکل \متن‌لاتین{MQTT} را به دو دسته کلی تقسم کرد. دلال‌هایی که از تعداد مشخصی نخ استفاده می‌کنند و نمی‌توانند در صورت لزوم از همه منابع سیستم استفاده کنند و دلال‌هایی که به صورت چند پروسه‌ای یا چند نخی طراحی شده‌اند
و می‌توانند در صورت لزوم تمام منابع سیستم را مصرف کنند. دسته اول برای زمانی که سیستم منابع زیادی ندارد یا در لبه می‌توانند کاربرد داشته باشند و دسته دوم عموما در زیرساخت‌های بزرگ و ابری می‌توانند مورد استفاده قرار بگیرند.
\مرجع{Mishra2021}

همانطور که اشاره شد پروتکل \متن‌لاتین{MQTT} در کاربردهای اینترنت اشیا می‌تواند برای ارتباط مستقیم میان اشیا و اپلیکیشن مورد استفاده قرار بگیرد. از سوی دیگر این پروتکل با توجه به ماهیت غیرهمزمانی که دارد یکی از راه‌های شناخته شده برای ارتباط میان سرور شبکه \متن‌لاتین{LoRaWAN}
و برنامه‌های کاربردی و \متن‌لاتین{Gateway} می‌باشد. این امر در معماری سامانه \متن‌لاتین{Chirpstack} (شکل \رجوع{شکل:معماری سامانه Chripstack}) که یکی از بسترهای شناخته شده و متن باز برای \متن‌لاتین{LoRa} می‌باشد مشهود است.

\شروع{شکل}
\درج‌تصویر[width=\textwidth]{./img/chirpstack-architecture.png}
\تنظیم‌ازوسط
\برچسب{شکل:معماری سامانه Chripstack}
\شرح{معماری \متن‌لاتین{LoRaWAN} سرور متن باز \متن‌لاتین{Chirpstack}}
\پایان{شکل}

\قسمت{\متن‌لاتین{QUIC}}

پروتکل \متن‌لاتین{QUIC} توسط گوگل در سال ۲۰۱۳ پیشنهاد شد و ۳ سال بعد کاگروهی در \متن‌لاتین{IETF} برای استانداردسازی آن شکل گرفت. این پروتکل در لایه کاربر بوده و بر پایه \متن‌لاتین{UDP} کار می‌کند.
هدف این پروتکل جایگزین کردن پشته سابق \متن‌لاتین{HTTP2}، \متن‌لاتین{TLS} و \متن‌لاتین{TCP} است.
پیاده‌سازی این پروتکل در لایه کاربر اجازه توسعه و سازگاری آن را ساده می‌کند و از سوی دیگر استفاده از \متن‌لاتین{UDP} اجازه می‌دهد به سادگی بر بستر شبکه‌های حاضر فعالیت کند.

این پروتکل با پشتیبانی ذاتی رمزنگاری سربار دست‌دادها را کاهش داده است و از سوی دیگر با استفاده از جریان‌ها باعث می‌شود تا بسته‌ها به صورت موازی و بدون تاخیر در یک ارتباط ارسال شوند.
\مرجع{10.1145/3098822.3098842}

\قسمت{\متن‌لاتین{WiFi 7}}

اندکی پس از انتشار \متن‌لاتین{WiFi 6} کارگروه \متن‌لاتین{IEEE 802.11} به همراه \متن‌لاتین{WiFi Alliance} شروع به طراحی نسل بعدی آن در شبکه‌های بی‌سیم محلی با نام \متن‌لاتین{WiFi 7} کردند.
یکی از اجزای \متن‌لاتین{WiFi 7}، \متن‌لاتین{IEEE 802.11be} می‌باشد و قرار است در این نسل از \متن‌لاتین{Time-Sensitive Networking} یا \متن‌لاتین{TSN} برای ارتباط‌هایی با تاخیر کم و قابلیت
اطمینان بالا پشتیبانی شود.
\مرجع{Adame2021}

\متن‌لاتین{TSN} در ابتدا برای شبکه‌ها اترنت (\متن‌لاتین{IEEE 802.3}) طراحی شده بود اما به آرامی راه خود را به شبکه‌های بی‌سیم باز می‌کند. در \متن‌لاتین{TSN} سعی می‌شود
هیچ بسته‌ای به خاطر ازدحام بافرها از دست نرود، بسته‌های کمی در خرابی تجهیزات از دست بروند و تاخیر انتها به انتها گارانتی شده باشد.
کارگروه \متن‌لاتین{IEEE P802.11be} برای طراحی لایه \متن‌لاتین{MAC} و \متن‌لاتین{PHY} در می ۲۰۱۹ شکل گرفت. یکی از اهداف \متن‌لاتین{WiFi 7} کاهش بدترین حالت تاخیر و \متن‌لاتین{Jitter} می‌باشد
که برای آن، کارگروه در حال بررسی استانداردهای \متن‌لاتین{TSN} می‌باشد.
\مرجع{Adame2021}

با وجود اینکه هرگز \متن‌لاتین{WiFi} نخواهد توانست تاخیر محدودی را با توجه به ماهیت خود در استفاده از باندهای فرکانسی بدون مجوز، ارائه دهد اما استفاده از مفاهیم \متن‌لاتین{TSN}
می‌تواند آن را در زمره فناوری‌های پیشرو در \متن‌لاتین{6G} قرار دهد.
\مرجع{Adame2021}

به صورت سنتی \متن‌لاتین{WiFi} برای مدیریت دسترسی همزمان از \متن‌لاتین{Distributed Coordination Function} یا مختصرا \متن‌لاتین{DCF} استفاده می‌کند.
این شیوه بر پایه حس حامل و عقب‌نشینی نمایی عمل می‌کند. از مشکلات اصلی آن می‌توان به عدم قابلیت برای اولویت‌دهی ترافیک و از سوی دیگر غیرقابل پیش‌بینی بودن
آن اشاره کرد. در واقع در \متن‌لاتین{DCF} چند ایستگاه می‌توانند باعث اشباع شدن کانل شده و بنابراین نمی‌توان گارانتی از نظر زمانی برای داده‌ها ارائه داد.
\مرجع{Adame2021}

برای حل این مشکل روش \متن‌لاتین{EDCF} یا \متن‌لاتین{Enhanced DCF} در \متن‌لاتین{IEEE 802.11e} پیشنهاد شد. در این روش امکان اولویت‌دهی بر پایه
کاتالوگ‌های دسترسی اضافه شد. در ادامه این شیوده در \متن‌لاتین{IEEE 802.11aa} برای ارتباطات صدا و تصویر بهبود بیشتری یافت.
با این حال هیچ یک از این استانداردها کیفیت سرویس را در شرایطی که \متن‌لاتین{WiFi} دارای بار اضافه است، گارانتی نمی‌کنند.
\مرجع{Adame2021}

در لایه انتقال وجود بافر در پروتکل \متن‌لاتین{TCP} باعث تاخیرهای زیادی می‌شود و این امر کار برای انتقال جریان‌های ترافیکی \متن‌لاتین{TCP}
با استانداردهای \متن‌لاتین{TSN} سخت می‌کند. از سوی دیگر تکنیک‌های شبکه‌های سیمی مانند روش‌های نوین مدیریت صف و \نقاط‌خ در اینجا
کارایی زیادی ندارد.
\مرجع{Adame2021}

در استاندارد \متن‌لاتین{IEEE 802.11be} حالت عملیاتی چند کاناله وجود دارد. با استفاده از این حالت امکان افزایش بهره‌وری با ارسال همزمان
روی چند کانال به وجود می‌آید و از سوی دیگر می‌توان یک بسته یکسان را در چند کانال ارسال کرده تا از رسیدن آن مطمئن شد. در نهایت ارسال‌کننده
می‌تواند کانال با تاخیر کمتر را انتخاب کرده و تاخیر را کاهش دهد. این حالت عملیاتی خود می‌تواند در دو حالت همزمان و غیرهمزمان استفاده شود.
در حالت همزمان بعد از ارسال از کانال اصلی یک مدتی صبر شده و بعد می‌توان از کانال ثانویه استفاده کرد این در حالتی است که در حالت غیرهمزمان
هر دو کانال می‌توانند همزمان استفاده شوند ولی امکان تداخل میان آن‌ها وجود دارد.
\مرجع{Adame2021}

\قسمت{\متن‌لاتین{Network Calculus}}

\متن‌لاتین{Network Calculus} مجموعه‌ای از پیشرفت‌های اخیر است که دید عمیقی در مساله‌های جریان در شبکه‌ها ایجاد می‌کند. پایه \متن‌لاتین{Network Calculus} در تئوری ریاضی \متن‌لاتین{Dioid}ها و مشخصا \متن‌لاتین{Min-Plus dioid} نهفته است.
در ادامه به مرور مفاهیم اصلی این حوزه می‌پردازیم.

\زیرقسمت{منحنی ورودی}

جریان با تابع تجمعی $R(t)$، دارای $\alpha$ به عنوان جریان ورودی (بیشین) است اگر:

\[
  R(t) - R(s) \le \alpha(t - s) \forall t,s \ge 0
\]

که در آن $\alpha$ یک تابع صعودی است. به عنوان مثال اگر فرض کنیم جریان ورودی با الگوریتم \متن‌لاتین{Leaky Bucket} با پارامترهای $r$ و $b$، محدود شده است داریم:

\[
  \alpha(t) = rt + b
\]

جریان‌های ورودی را می‌توان با یکدیگر جمع کرد.

\زیرقسمت{پیچش \متن‌لاتین{Min-Plus}}

پیچش دو جریان $f_{1}$ و $f_{2}$ در جبر \متن‌لاتین{Min-Plus} به شکل زیر تعریف می‌شوند:

\[
  f(t) = \inf_{s \ge 0}(f_{1}(s) + f_{2}(t-s))
\]
\[
  f = f_{1} \otimes f_{2}
\]

این پیچش، ویژگی‌ها خوب پیچیش معمول را دارد:

\[
  (f_{1} \otimes f_{2}) \otimes f_{3} = f_{1} \otimes (f_{2} \otimes f_{3})
\]
\[
  f_{1} \otimes f_{2} = f_{2} \otimes f_{1}
\]

با توجه به این تعریف می‌توان گفت $\alpha$ یک منحنی ورودی برای $R$ خواهد بود اگر و تنها اگر

\[
  R \le R \otimes \alpha
\]
